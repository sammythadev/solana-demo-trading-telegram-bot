file & folder tree

Axel-Solana-Demo-Trading-Bot/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ bot/
â”‚   â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”‚   â”œâ”€â”€ start.js
â”‚   â”‚   â”‚   â”œâ”€â”€ token.js
â”‚   â”‚   â”‚   â”œâ”€â”€ buy.js
â”‚   â”‚   â”‚   â”œâ”€â”€ sell.js
â”‚   â”‚   â”‚   â”œâ”€â”€ portfolio.js
â”‚   â”‚   â”‚   â”œâ”€â”€ balance.js
â”‚   â”‚   â”‚   â”œâ”€â”€ topup.js
â”‚   â”‚   â”‚   â”œâ”€â”€ settings.js
â”‚   â”‚   â”‚   â””â”€â”€ help.js
â”‚   â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â”‚   â””â”€â”€ userMiddleware.js
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ formatters.js
â”‚   â”‚   â”‚   â”œâ”€â”€ speedDelay.js
â”‚   â”‚   â”‚   â””â”€â”€ dexApi.js
â”‚   â”‚   â”œâ”€â”€ bot.js
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”‚
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ User.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Position.js
â”‚   â”‚   â”‚   â””â”€â”€ Transaction.js
â”‚   â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â”‚   â””â”€â”€ (auto-generated by Sequelize CLI)
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”‚
â”‚   â”œâ”€â”€ cache/
â”‚   â”‚   â””â”€â”€ redisClient.js
â”‚   â”‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ database.js
â”‚   â”‚   â”œâ”€â”€ redis.js
â”‚   â”‚   â”œâ”€â”€ env.js
â”‚   â”‚   â””â”€â”€ constants.js
â”‚   â”‚
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ tradeService.js
â”‚   â”‚   â”œâ”€â”€ portfolioService.js
â”‚   â”‚   â”œâ”€â”€ balanceService.js
â”‚   â”‚   â””â”€â”€ userService.js
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ logger.js
â”‚   â”‚
â”‚   â””â”€â”€ index.js
â”‚
â”œâ”€â”€ .env
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md
â”œâ”€â”€ .gitignore
â””â”€â”€ docker-compose.yml


ğŸ“„ Files in Root
File	              Description
-----------------------------------------------------------------------
package.json	      Node.js manifest file. Declares project metadata, dependencies, and scripts.
.env	              Environment variables â€” keeps secrets like BOT_TOKEN, DATABASE_URL, REDIS_URL.
.gitignore         	  Specifies which files/folders Git should ignore (e.g., node_modules, .env).
README.md	          High-level documentation â€” quick start guide, features, and setup instructions.
docker-compose.yml	  Defines services (bot, PostgreSQL, Redis) for local or production deployment.
/src/	              The heart of the bot â€” contains all source code.


-------------------------------------------------------------------------------------------------------------

ğŸ“‚ /src â€” Main Application Directory

The src/ directory contains all app logic â€” bot commands, database layer, caching, services, and utilities.

src/
â”‚
â”œâ”€â”€ bot/
â”œâ”€â”€ db/
â”œâ”€â”€ cache/
â”œâ”€â”€ config/
â”œâ”€â”€ services/
â”œâ”€â”€ utils/
â””â”€â”€ index.js
 ----------------------------------------------------------------------------------------------

ğŸ¤– /src/bot â€” Telegram Bot Logic

Handles everything related to Telegram: commands, message handling, and user interactions.
src/bot/
â”‚
â”œâ”€â”€ commands/
â”œâ”€â”€ middlewares/
â”œâ”€â”€ utils/
â”œâ”€â”€ bot.js
â””â”€â”€ index.js

ğŸ§© Files & Folder
| Path             | Description                                                                |
| ---------------- | -------------------------------------------------------------------------- |
| **bot.js**       | Initializes Telegraf, sets up command handlers, and attaches middleware.   |
| **index.js**     | Entry point for the bot â€” imports all commands and starts polling.         |
| **commands/**    | Contains one JS file per Telegram command (modular command structure).     |
| **middlewares/** | Custom middleware (e.g. user registration check).                          |
| **utils/**       | Helper functions specific to bot features (API calls, formatters, delays). |

---------------------------------------------------------------------------------------------------------

ğŸ“ /src/bot/commands

Each command the user can call in Telegram is a separate file.
This modular design makes it easy to maintain or add new commands.

| File             | Command                  | Purpose                                                                  |
| ---------------- | ------------------------ | ------------------------------------------------------------------------ |
| **start.js**     | `/start`                 | Registers a new user in the DB, sets default SOL balance and speed mode. |
| **token.js**     | `/token <mint>`          | Fetches token data from Dexscreener and returns market details.          |
| **buy.js**       | `/buy <mint> <sol>`      | Simulates a buy order, deducts SOL, records position.                    |
| **sell.js**      | `/sell <mint> <percent>` | Simulates a sell order, calculates profit/loss, updates position.        |
| **portfolio.js** | `/portfolio`             | Shows open positions, real-time PnL and portfolio value.                 |
| **balance.js**   | `/balance`               | Displays current virtual SOL balance and USD equivalent.                 |
| **topup.js**     | `/topup <amount>`        | Adds demo SOL to the userâ€™s balance.                                     |
| **settings.js**  | `/settings`              | Lets the user change execution speed (Turbo, Fast, Normal, Slow).        |
| **help.js**      | `/help`                  | Lists available commands with short descriptions.                        |


-----------------------------------------------------------------------------------------------------------------------------------

ğŸ“ /src/bot/middlewares
| File                  | Purpose                                                                                    |
| --------------------- | ------------------------------------------------------------------------------------------ |
| **userMiddleware.js** | Ensures every message comes from a registered user; auto-registers on first use if needed. |

----------------------------------------------------------------------------------------------------------------------------------------

ğŸ“ /src/bot/utils

| File              | Purpose                                                                        |
| ----------------- | ------------------------------------------------------------------------------ |
| **dexApi.js**     | Handles calls to the Dexscreener API and caches responses in Redis for 30â€“60s. |
| **formatters.js** | Functions to format numbers, currency, and message templates with emojis.      |
| **speedDelay.js** | Implements execution delay logic for Turbo / Fast / Normal / Slow modes.       |

---------------------------------------------------------------------------------------------------------------

ğŸ—ƒï¸ /src/db â€” Database Layer

Manages all persistence (PostgreSQL).
Organized by models, migrations, and connection setup.

src/db/
â”‚
â”œâ”€â”€ models/
â”œâ”€â”€ migrations/
â””â”€â”€ index.js
--------------------------------------------------------------------

ğŸ“ /src/db/models

Each model represents a database table using Sequelize ORM.

| File               | Table          | Purpose                                                              |
| ------------------ | -------------- | -------------------------------------------------------------------- |
| **User.js**        | `users`        | Stores Telegram ID, virtual SOL balance, speed mode, timestamps.     |
| **Position.js**    | `positions`    | Stores userâ€™s open token positions (mint, price, amount, SOL spent). |
| **Transaction.js** | `transactions` | Tracks every trade (buy/sell/topup) with PnL info.                   |
-----------------------------------------------------------------------------------------------------------------------

ğŸ“ /src/db/migrations
| Purpose                                                                                               |
| ----------------------------------------------------------------------------------------------------- |
| Contains migration scripts auto-generated by Sequelize CLI. Used for creating and updating DB tables. |


-----------------------------------------------------------------------------------------------------------------

/src/db/index.js
| Purpose                                                                                         |
| ----------------------------------------------------------------------------------------------- |
| Initializes the Sequelize connection using `DATABASE_URL`. Loads models and syncs DB if needed. |


------------------------------------------------------------------------------------------------------------
âš¡ /src/cache â€” Redis Caching Layer

src/cache/
â””â”€â”€ redisClient.js


| File               | Purpose                                                                                |
| ------------------ | -------------------------------------------------------------------------------------- |
| **redisClient.js** | Configures Redis connection, provides helper methods for caching Dexscreener API data. |

-------------------------------------------------------------------------------------------------------------------
âš™ï¸ /src/config â€” Configuration Files

src/config/
â”‚
â”œâ”€â”€ database.js
â”œâ”€â”€ redis.js
â”œâ”€â”€ env.js
â””â”€â”€ constants.js

| File             | Purpose                                                                 |
| ---------------- | ----------------------------------------------------------------------- |
| **database.js**  | Exports PostgreSQL/Sequelize configuration.                             |
| **redis.js**     | Redis connection setup (host, port, password).                          |
| **env.js**       | Loads `.env` variables using dotenv; exports them app-wide.             |
| **constants.js** | Stores static constants like speed delay presets, default balance, etc. |


------------------------------------------------------------------------------------------------------------

ğŸ’¼ /src/services â€” Business Logic Layer

src/services/
â”œâ”€â”€ tradeService.js
â”œâ”€â”€ portfolioService.js
â”œâ”€â”€ balanceService.js
â””â”€â”€ userService.js

| File                    | Purpose                                                                     |
| ----------------------- | --------------------------------------------------------------------------- |
| **tradeService.js**     | Handles core buy/sell logic â€” validates inputs, applies delays, updates DB. |
| **portfolioService.js** | Calculates current holdings, values, and PnL per user.                      |
| **balanceService.js**   | Manages SOL balance retrieval and top-up functionality.                     |
| **userService.js**      | Handles user registration, speed updates, and profile retrieval.            |

-----------------------------------------------------------------------------------------------------------------
ğŸ§° /src/utils


| File          | Purpose                                                                                 |
| ------------- | --------------------------------------------------------------------------------------- |
| **logger.js** | Central logging utility using `console` or `winston` for debugging and production logs. |

-----------------------------------------------------------------------------------------------------------------

ğŸš€ /src/index.js

| Purpose                                                                                                      |
| ------------------------------------------------------------------------------------------------------------ |
| Main entry point of the entire application. Initializes config, database, cache, and starts the bot service. |

-------------------------------------------------------------------------------------------------------------------------

ğŸ³ /docker-compose.yml

| Purpose                                                                                |
| -------------------------------------------------------------------------------------- |
| Defines containerized services for development: PostgreSQL, Redis, and the Bot itself. |
| Simplifies local setup â€” just `docker-compose up -d` to spin up all components.        |
